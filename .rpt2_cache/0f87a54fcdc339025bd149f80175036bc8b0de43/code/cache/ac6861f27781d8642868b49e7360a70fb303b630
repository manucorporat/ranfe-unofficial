{"code":"import * as tslib_1 from \"tslib\";\r\nimport { http } from './http';\r\nexport class WeatherService {\r\n    constructor(apiKey) {\r\n        this.apiKey = apiKey;\r\n    }\r\n    request(query) {\r\n        const url = `http://apidev.accuweather.com/${query}&apiKey=${this.apiKey}`;\r\n        return http.GET(url).then((response) => {\r\n            if (response.length === 0) {\r\n                throw new Error('not found');\r\n            }\r\n            else {\r\n                return response[0];\r\n            }\r\n        });\r\n    }\r\n    resolveCity(cityName) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const city = yield this.request(`locations/v1/search?q=${cityName}`);\r\n            return city.Key;\r\n        });\r\n    }\r\n    resolveForecast(key) {\r\n        return this.request(`currentconditions/v1/${key}.json?language=es`);\r\n    }\r\n    todayForecast(city) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const key = yield this.resolveCity(city);\r\n            return this.resolveForecast(key);\r\n        });\r\n    }\r\n}\r\nexport const weather = new WeatherService('hoArfRosT1215');\r\n//# sourceMappingURL=weather.js.map","map":{"version":3,"file":"weather.js","sourceRoot":"","sources":["../src/js/weather.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAW9B,MAAM;IAEJ,YACU,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IACpB,CAAC;IAEG,OAAO,CAAC,KAAa;QAC3B,MAAM,GAAG,GAAG,iCAAiC,KAAK,WAAW,IAAI,CAAC,MAAM,EAAE,CAAC;QAC3E,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACrC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEa,WAAW,CAAC,QAAgB;;YACxC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,yBAAyB,QAAQ,EAAE,CAAC,CAAC;YACrE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;QAClB,CAAC;KAAA;IAEO,eAAe,CAAC,GAAW;QACjC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,GAAG,mBAAmB,CAAC,CAAC;IACtE,CAAC;IAEK,aAAa,CAAC,IAAY;;YAC9B,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACzC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;KAAA;CACF;AAED,MAAM,CAAC,MAAM,OAAO,GAAG,IAAI,cAAc,CAAC,eAAe,CAAC,CAAC"}}
