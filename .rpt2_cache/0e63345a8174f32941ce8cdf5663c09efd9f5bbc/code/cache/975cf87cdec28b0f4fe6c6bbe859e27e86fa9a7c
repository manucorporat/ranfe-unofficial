{"code":"import { isEmpty, shuffleArray } from './utils';\r\nvar TypeWritter = /** @class */ (function () {\r\n    function TypeWritter(sentences, ele) {\r\n        this.sentences = sentences;\r\n        this.ele = ele;\r\n        this.rmLatency = 50;\r\n        this.addLatency = 100;\r\n        this.emptyDelay = 50;\r\n        this.finishDelay = 6000;\r\n        this.isRemoving = true;\r\n        this.sentenceIndex = 0;\r\n        this.sentenceLength = 0;\r\n        shuffleArray(this.sentences);\r\n        if (ele.textContent) {\r\n            this.sentences.push(ele.textContent);\r\n        }\r\n    }\r\n    TypeWritter.prototype.start = function () {\r\n        this.schedule();\r\n    };\r\n    TypeWritter.prototype.do = function () {\r\n        var text = this.ele.textContent;\r\n        if (this.isRemoving) {\r\n            if (isEmpty(text)) {\r\n                this.isRemoving = false;\r\n                setTimeout(this.schedule.bind(this), this.emptyDelay);\r\n            }\r\n            else {\r\n                this.ele.textContent = text.substr(0, text.length - 1);\r\n                this.schedule();\r\n            }\r\n        }\r\n        else {\r\n            this.sentenceLength++;\r\n            var sentence = this.sentences[this.sentenceIndex];\r\n            var substr = sentence.substr(0, this.sentenceLength);\r\n            this.ele.textContent = substr;\r\n            if (this.sentenceLength >= sentence.length) {\r\n                this.isRemoving = true;\r\n                this.sentenceLength = 0;\r\n                this.sentenceIndex++;\r\n                if (this.sentenceIndex >= this.sentences.length) {\r\n                    this.sentenceIndex = 0;\r\n                }\r\n                setTimeout(this.schedule.bind(this), this.finishDelay);\r\n            }\r\n            else {\r\n                this.schedule();\r\n            }\r\n        }\r\n    };\r\n    TypeWritter.prototype.schedule = function () {\r\n        setTimeout(this.do.bind(this), this.delay());\r\n    };\r\n    TypeWritter.prototype.delay = function () {\r\n        var latency;\r\n        if (this.isRemoving) {\r\n            latency = this.rmLatency;\r\n        }\r\n        else {\r\n            latency = this.addLatency;\r\n        }\r\n        return Math.random() * latency + (latency / 2);\r\n    };\r\n    return TypeWritter;\r\n}());\r\nexport { TypeWritter };\r\n//# sourceMappingURL=typewritter.js.map","map":{"version":3,"file":"typewritter.js","sourceRoot":"","sources":["../src/js/typewritter.ts"],"names":[],"mappings":"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"}}
