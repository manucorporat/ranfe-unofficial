/*! Built with http://stenciljs.com */

App.loadStyles("results-nav","results-nav{display:flex;flex-direction:row;flex-wrap:nowrap;margin-bottom:4rem}results-nav button{position:relative;flex:1;height:4rem;border-bottom:.3rem solid #830065;font-size:2.1rem;letter-spacing:.7px;text-transform:lowercase;text-align:center;padding-left:1rem;padding-top:.5rem;margin-right:1.5rem;color:#131313}results-nav button::before{position:absolute;top:0;width:2.82845rem;height:2.82845rem;border-right:.3rem solid #830065;border-bottom:.3rem solid #830065;content:\"\";transform:rotateZ(-45deg);transform-origin:top right;box-sizing:border-box;right:0}results-nav button[disabled]{opacity:.5}results-nav button.selected{border-bottom:.3rem solid #4c85f5;opacity:1}results-nav button.selected::before{border-right:.3rem solid #4c85f5;border-bottom:.3rem solid #4c85f5}\nresults-nav.hydrated{visibility:inherit}","results-page",".top-content{position:sticky;position:-webkit-sticky;top:0;z-index:1;display:none;flex:1;letter-spacing:.2rem}.form-group-mini{margin:1rem -.25rem}.widget-mini{position:sticky;top:0;box-shadow:none;border-radius:0;padding:.3rem 1rem;margin:0}.title-result{text-align:center}\@media (max-width:1000px){.top-content{display:block}.side-container{display:none}}\nresults-page.hydrated{visibility:inherit}","results-table","results-table i{transition:transform ease-in-out .4s}results-table i.reversed{transform:rotateZ(180deg)}results-table .tickets{width:100%;font-size:2rem;border-collapse:collapse;margin-top:4rem}results-table .tickets thead td{border-bottom:.3rem solid #830065;font-weight:500;padding-bottom:1.5rem}results-table .tickets tbody :first-child td{padding-top:2.5rem}results-table .tickets tbody tr:hover>td{border-bottom:.1rem solid #4c85f5;color:#4c85f5}results-table .tickets tbody td{border-bottom:.1rem solid rgba(128,128,128,.493);margin:0}results-table .tickets td{padding-top:1.5rem;padding-bottom:.7rem;padding-left:1rem}results-table .no-trains{font-size:3rem;margin-top:10rem;text-align:center}\nresults-table.hydrated{visibility:inherit}","weather-container","weather-container{display:block}weather-container .weather-content{padding:2rem}weather-container .weather-content h3{font-size:5rem;font-weight:200;margin:0}weather-container .weather-content h4{font-size:3rem;font-weight:400;text-transform:capitalize;margin:0;margin-bottom:1.5rem}\nweather-container.hydrated{visibility:inherit}");
App.loadComponents("isgmrrj2",function(t,e,n,s){"use strict";function r(t){switch(t.WeatherIcon){case 6:case 7:case 8:case 9:case 10:case 11:case 38:return"fa-cloud";case 12:case 13:case 14:case 18:case 39:case 40:return"fa-tint";case 15:case 16:case 17:case 41:case 42:return"fa-bolt";case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 43:case 44:return"fa-snowflake-o";case 33:case 34:case 35:case 36:case 37:return"fa-moon-o";default:return"fa-sun-o"}}function i(t){return t+", Spain"}class a{constructor(){this.current=0,this.valid=0}onClick(t){this.navTab.emit(t)}hostData(){return{role:"navigation"}}render(){return this.buttons.map((t,n)=>{const s={selected:n===this.current};return e("button",{class:s,disabled:n>this.valid,onClick:()=>this.onClick(n)},t)})}}var c=function(t,e,n,s){return new(n||(n=Promise))(function(r,i){function a(t){try{o(s.next(t))}catch(t){i(t)}}function c(t){try{o(s.throw(t))}catch(t){i(t)}}function o(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,c)}o((s=s.apply(t,e||[])).next())})};class o{constructor(){this.currentIndex=0,this.validIndex=2}componentDidLoad(){return c(this,void 0,void 0,function*(){})}onNavTab(t){this.currentIndex=t.detail}getCityA(){return"Valladolid"}getCityB(){return"Madrid"}getData(){return[]}renderPage(){switch(this.currentIndex){case 0:return e("results-table",{cityA:this.getCityA(),cityB:this.getCityB(),data:this.getData()});case 1:return e("results-table",{reversed:!0,cityA:this.getCityA(),cityB:this.getCityB(),data:this.getData()});case 2:return e("results-people",null);case 3:return e("results-end",null)}}render(){return[e("renfe-header",{background:!0}),e("div",{class:"top-content"},e("search-widget",{cityA:this.getCityA(),cityB:this.getCityB()})),e("div",{class:"flex-section"},e("div",{class:"side-container"},e("div",{class:"sticky"},e("div",{class:"widget"},e("search-widget",{cityA:this.getCityA(),cityB:this.getCityB()})),e("div",{class:"widget"},e("weather-container",{city:this.getCityA()}),e("weather-container",{city:this.getCityB()})))),e("div",{class:"main-container"},e("results-nav",{current:this.currentIndex,valid:this.validIndex,buttons:["Ida","Vuelta","Pasajeros","Finalizar"]}),e("div",{class:"main-content",role:"main"},this.renderPage()))),e("renfe-footer",null)]}}class l{constructor(){this.reversed=!1}renderResults(){const t=this.data;return t&&0!==t.length?e("table",{class:"tickets"},e("thead",null,e("tr",null,e("td",null,"Salida"),e("td",null,"Llegada"),e("td",null,"Duración"),e("td",null,"Tren"),e("td",null,"Clase"),e("td",null,"Precio"))),e("tbody",{id:"table-data"},t.map(t=>e("tr",null,e("td",null,t.start),e("td",null,t.end),e("td",null,t.duration),e("td",null,t.train),e("td",null,t.type),e("td",null,t.price))))):e("div",{class:"no-trains"},"No hay trenes disponibles")}render(){const t={fa:!0,"fa-long-arrow-right":!0,reversed:this.reversed};return[e("div",{class:"title-result"},e("h2",null,e("span",{id:"title-origin"},this.cityA)," ",e("i",{class:t,"aria-hidden":"true"})," ",e("span",{id:"title-destination"},this.cityB))),this.renderResults()]}}var u=function(t,e,n,s){return new(n||(n=Promise))(function(r,i){function a(t){try{o(s.next(t))}catch(t){i(t)}}function c(t){try{o(s.throw(t))}catch(t){i(t)}}function o(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,c)}o((s=s.apply(t,e||[])).next())})};class d{constructor(){this.apiKey="hoArfRosT1215"}componentDidLoad(){return u(this,void 0,void 0,function*(){try{const t=yield this.todayForecast(i(this.city));this.temperature=t.Temperature.Metric.Value,this.icon=r(t)}catch(t){console.error(t)}})}request(t){return u(this,void 0,void 0,function*(){const e=`http://apidev.accuweather.com/${t}&apiKey=${this.apiKey}`,n=yield(yield fetch(e)).json();if(n.length>0){const t=n[0];if("object"!=typeof t)throw new Error("response is not an object");return t}throw new Error("empty response")})}resolveCity(t){return u(this,void 0,void 0,function*(){const e=`locations/v1/search?q=${t}`,n=(yield this.request(e)).Key;if(!n)throw new Error("city key is null");return n})}resolveForecast(t){const e=`currentconditions/v1/${t}.json?language=es`;return this.request(e)}todayForecast(t){return u(this,void 0,void 0,function*(){const e=yield this.resolveCity(t);return this.resolveForecast(e)})}hostData(){return{role:"footer"}}render(){const t={fa:!0,[this.icon]:!0};return e("div",{class:"weather-content"},e("h4",null,this.city),e("h3",null,e("i",{class:t,"aria-hidden":"true"})," ",this.temperature,"ºC"))}}t["results-nav"]=a,t["results-page"]=o,t["results-table"]=l,t["weather-container"]=d},["results-nav",[["buttons",1,1,1],["current",1,1,4],["valid",1,1,4]],{},[["navTab"]]],["results-page",[["currentIndex",5,0,1],["results",5,0,1],["validIndex",5,0,1]],{}],["results-table",[["cityA",1,1,2],["cityB",1,1,2],["data",1,1,1],["reversed",1,1,3]],{}],["weather-container",[["city",1,1,2],["icon",5,0,1],["temperature",5,0,1]],{}]);;